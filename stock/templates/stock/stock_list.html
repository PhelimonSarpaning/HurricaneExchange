{% extends 'base.html' %}

{% block content %}
<h1>List of stocks to purchase shares in:</h1>
<table class="table table-striped">
  <thead class="thead-dark">
    <tr>
      <th scope="col">Stock</th>
      <th scope="col">GICS</th>
      <th scope="col">Ticker</th>
      <th scope="col">Price</th>
      <th scope="col">Day Change</th>
      <th></th>

    </tr>
  </thead>
  <tr>
    {% for stock in stocks %}
       <tr>
            <th> {{stock.stock_name}} </th>
            <th> {{stock.stock_gics}} </th>
            <th> {{stock.stock_ticker}} </th>
            <th> {{stock.stock_price}} </th>
            <th><div>
              {% if stock.stock_dayChange > 0 %}
                  <div style="color:green">{{stock.stock_dayChange}}<i class="material-icons" style ="vertical-align:middle;">arrow_drop_up</i></div>
              {% elif stock.stock_dayChange < 0 %}
                  <div style="color:red">{{stock.stock_dayChange}}<i class="material-icons" style ="vertical-align:middle;">arrow_drop_down</i></div>
              {% else %}
                  <div style="color:green">{{stock.stock_dayChange}}</div>
              {% endif %}
            </th>
            <td>
              <button onclick="window.location.href='/stock/buy/{{stock.stock_ticker}}'" class="btn btn-secondary btn-sm">Buy</button>
          </td>
       </tr>
    {% endfor %}
  </table>
<nav aria-label="Page navigation example">
  <ul class="pagination justify-content-center">
    {% if stocks.has_previous %}
    <li class="page-item">
      <a class="page-link" aria-label="Back10" href="?page={{stocks.number|add:"-10"}}">
        <span aria-hidden="true">&laquo;</span>
        <span class="sr-only">Back_10</span>
      </a>
    </li>
    <li class="page-item">
      <a class="page-link" aria-label="Previous" href="?page={{stocks.previous_page_number}}">
        <span aria-hidden="true">&lt;</span>
        <span class="sr-only">Previous</span>
      </a>
      {% endif %}
    </li>
    {% for pg in page_range %}
    {% if stocks.number == pg %}
    <li class="page-item active"><a class="page-link" href="?page={{pg}}">{{pg}}</a></li>
    {% else %}
    <li class="page-item"><a class="page-link" href="?page={{pg}}">{{pg}}</a></li>
    {% endif %}

    {% endfor %}

    {% if stocks.has_next %}
    <li class="page-item">
      <a class="page-link" aria-label="Next" href="?page={{stocks.next_page_number}}">
        <span aria-hidden="true">&gt;</span>
        <span class="sr-only">Forward</span>
      </a>
    </li>
    <li class="page-item">
      <a class="page-link" aria-label="Next10" href="?page={{stocks.number|add:"+10"}}">
        <span aria-hidden="true">&raquo;</span>
        <span class="sr-only">Forward_10</span>
      </a>
      {% endif %}
    </li>
  </ul>
</nav>
{% endblock %}
